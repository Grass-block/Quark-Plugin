import java.text.SimpleDateFormat

plugins{
    id 'java'
}

apply from: "E:/Java/GradleScripts/build-base.gradle"

applyGlobalScript("Publish/MinecraftServerTest.gradle")
applyGlobalScript("Publish/ProjectOutput.gradle")
applyGlobalScript("Repo/MinecraftPlugins.gradle")
applyGlobalScript("/Dependencies.gradle")

version = ""

repositories {
    maven {
        name="dmulloy2-repo"
        url="https://repo.dmulloy2.net/repository/public/"
    }
}

//quark libraries
dependencies {
    compileOnly 'org.iq80.leveldb:leveldb:0.12'

    implementation 'org.jetbrains:annotations:24.0.0'
    implementation 'com.sun.mail:javax.mail:1.6.2'
    implementation 'net.kyori:adventure-api:4.11.0'
    implementation 'net.kyori:adventure-text-serializer-gson:4.11.0'
    implementation 'net.kyori:adventure-text-serializer-legacy:4.11.0'
    implementation 'net.kyori:adventure-text-minimessage:4.11.0'
    implementation 'net.kyori:adventure-platform-bukkit:4.0.0'
    implementation 'net.kyori:adventure-platform-bungeecord:4.0.0'

    implementation localStorage("me.gb2022.commons-nbt")
    implementation localStorage("me.gb2022.commons-math")
    implementation localStorage('me.gb2022.commons-crypto')
    implementation localStorage('me.gb2022.commons-container')

    implementation localStorage('me.gb2022.apm-plugin')
}

//platform api reference
dependencies {
    compileOnly 'io.papermc.paper:paper-api:1.20.4-R0.1-SNAPSHOT'
    compileOnly 'io.netty:netty-buffer:4.1.25.Final'
    compileOnly projectLocal('paper-threadedregions')

    //implementation localStorage('io.wdsj.asg')
}

processResources {
    doFirst {
        filesMatching('**/metadata.properties') {
            expand 'build_time': new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(new Date())
        }
    }
}